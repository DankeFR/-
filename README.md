Бизнес-функция: Бронирование отеля
1. Глоссарий

    Туроператор (Поставщик) — компания, формирующая туристические продукты (в данном случае — блок «перелет + отель»), чьи предложения интегрированы в наш сервис.

    Система бронирования (Booking Engine) — программное обеспечение, которое в реальном времени проверяет доступность номеров, тарифы и условия у туроператоров.

    Поисковый запрос — набор параметров, введенных пользователем для поиска отеля: направление, даты заезда/выезда, количество гостей, номеров.

    Доступность (Availability) — подтвержденная системой бронирования возможность забронировать конкретный номер на указанные даты.

    Тариф (Rate) — стоимость проживания за указанный период, включающая указанные условия (например, завтрак, бесплатная отмена).

    Бронь (Booking) — подтвержденная и оплаченная транзакция, в результате которой за пользователем закрепляется номер в отеле на определенные даты.

    PNR (Passenger Name Record) — уникальный идентификатор бронирования в системе туроператора.

    Ваучер (Voucher) — электронный документ, который выдается клиенту после успешного бронирования и содержит все детали заказа. Предъявляется в отеле при заселении.

2. Бизнес-цели

    BG-1: Увеличить конверсию посетителей сайта в бронирования с 2% до 4% в течение 6 месяцев после внедрения.

    BG-2: Сократить среднее время на оформление одной брони с 10 до 5 минут.

    BG-3: Обеспечить уровень успешных бронирований (без ошибок "недоступно" на этапе подтверждения) в 99%.

    BG-4: Увеличить средний чек на 15% за счет перекрестных продаж (например, предлагая трансфер или страховку).

3. Описание бизнес-процесса(ов)

Основной процесс: Успешное бронирование отеля

    Шаг 1: Поиск отеля.

        Пользователь вводит параметры поиска (город, даты, гости).

        Система отправляет запрос к системе бронирования туроператора.

        Система получает и отображает список доступных отелей и тарифов.

        Пользователь применяет фильтры (цена, звезды, рейтинг) и выбирает отель и конкретный тариф.

    Шаг 2: Ввод данных гостя.

        Система отображает детальную информацию о выбранном предложении и форму для ввода данных.

        Пользователь вводит данные всех гостей (ФИО, пол, дата рождения для каждого).

        Пользователь вводит контактные данные (email, телефон).

    Шаг 3: Проверка доступности и расчет итоговой стоимости.

        Пользователь нажимает «Перейти к оплате».

        Система отправляет в систему бронирования запрос на финальную проверку доступности и актуальности цены.

        Система бронирования возвращает подтверждение и финальную стоимость.

        Система блокирует номер на короткое время (например, 15 минут).

    Шаг 4: Оплата.

        Система перенаправляет пользователя на страницу оплаты (или отображает виджет).

        Пользователь вводит данные банковской карты и подтверждает оплату.

        Платежный шлюз обрабатывает транзакцию и возвращает статус «Успех».

    Шаг 5: Подтверждение брони.

        При успешной оплате система отправляет в систему бронирования финальный запрос на создание брони.

        Система бронирования создает PNR и возвращает его нашему сервису.

        Наш сервис генерирует и отправляет на email пользователя ваучер с PNR и всеми деталями брони.

        Бронь считается завершенной.

Альтернативный поток А: Отмена брони в процессе оплаты.

    На шаге 4 пользователь закрывает страницу или не завершает оплату в течение отведенного времени (15 минут).

    Система автоматически разблокирует номер в системе бронирования.

    Бронь аннулируется.

Альтернативный поток Б: Ошибка на этапе подтверждения.

    На шаге 3 или 5 система бронирования возвращает ошибку «Нет мест» или «Цена изменилась».

    Система уведомляет пользователя о проблеме и предлагает вернуться к поиску и выбрать другой вариант.

    Бронь не создается.

4. User Story

    US-1: Как путешественник, я хочу искать отели по направлению, датам и количеству гостей, чтобы найти подходящие мне варианты.

        Критерии приемки:

            На странице поиска есть поля для ввода города, дат заезда/выезда (с календарем), выбора количества взрослых/детей и номеров.

            При нажатии кнопки «Найти» система отображает страницу с результатами поиска.

    US-2: Как путешественник, я хочу видеть детали тарифа (тип питания, условия отмены, что входит в стоимость), чтобы принять обоснованное решение.

    US-3: Как путешественник, я хочу ввести данные всех гостей один раз и безопасно оплатить бронь картой, чтобы быстро и надежно завершить процесс.

        Критерии приемки:

            Форма содержит обязательные поля: ФИО, пол, дата рождения для каждого гостя.

            Реализована интеграция с платежным шлюзом (например, CloudPayments).

            После успешной оплаты данные карты не сохраняются в нашей системе.

    US-4: Как путешественник, я хочу получить подтверждение брони на email в виде ваучера, чтобы иметь документ для заселения в отель.

5. Ограничения

    Технические: Система должна интегрироваться с существующей системой бронирования туроператора по XML-API. Время ответа API не должно превышать 5 секунд.

    Бизнес-ограничения: Возврат средств за бронь с тарифом "Non-Refundable" невозможен. Возвраты за другие тарифы осуществляются согласно правилам туроператора.

    Юридические: Необходима обработка персональных данных в соответствии с ФЗ-152. Необходимо предоставлять пользовательское соглашение и политику конфиденциальности.

6. Критерии готовности (Definition of Ready - DoR)

Элемент (User Story или задача) готов к тому, чтобы команда приступила к его реализации, когда:

    История описана по шаблону "Как [роль], я хочу [цель], чтобы [выгода]".

    История разбита на задачи и оценена командой разработки.

    Критерии приемки четко сформулированы и однозначны.

    Дизайн-макеты всех экранов, связанных с историей, готовы и согласованы.

    Все необходимые данные и API со стороны туроператора доступны и протестированы на тестовом стенде.

    История имеет бизнес-приоритет и включена в текущий спринт.

7. Критерии завершённости (Definition of Done - DoD)

Элемент (User Story) считается завершенным, когда:

    Код написан, прошел код-ревью и соответствует стандартам проекта.

    Все автоматизированные тесты (юнит-тесты, интеграционные тесты) пройдены успешно.

    Функциональность протестирована QA-инженером и соответствует критериям приемки.

    UI/UX соответствует утвержденным дизайн-макетам.

    Произведено регрессионное тестирование, показывающее, что новая функциональность не сломала существующую.

    Код задеплоен на тестовую среду и прошел приемочное тестирование заказчиком (Product Owner).

    Документация (техническая и пользовательская, если требуется) обновлена.# -
    graph TD
    A[Начало процесса] --> B[Поиск отелей]
    B --> C[Выбор отеля и тарифа]
    C --> D[Ввод данных гостей]
    D --> E{Проверка доступности}
    E -->|Доступно| F[Блокировка номера]
    E -->|Не доступно| C
    F --> G[Оплата брони]
    G --> H{Статус оплаты}
    H -->|Успех| I[Подтверждение брони]
    H -->|Ошибка| J{Повторить оплату?}
    J -->|Да| G
    J -->|Нет| K[Отмена брони]
    I --> L[Отправка ваучера]
    L --> M[Конец процесса]
    K --> M
